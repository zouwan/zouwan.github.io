转自淘宝张洋的基数估计算法概览

# 基数估计算法定义
* 基数是指一个集合中，不同的数的个数；基数统计是集合不同的数的个数
    * 比如说一个集合｛0, 1, 2, 2, 4, 5}，其基数是5，而个数是6。因为1重复出现了两次
* 基数估计是估计一个集合中不同的数的个数。用概率算法的思想，来用低空间和时间成本，以一个很低的误差度来估计数据的基数
# 原理
* 一个简单直观的基数估计方法
    假设你通过如下步骤生成了一个数据集：
    1. 随机生成n个服从均匀分布的数字
    2. 随便重复其中一些数字，重复的数字和重复次数都不确定
    3. 打乱这些数字的顺序，得到一个数据集
    问题：我们要如何估计这个数据集中有多少不同的数字呢？
   因为知道这些数字是服从均匀分布的随机数字，一个比较简单的可行方案是：找出数据集中最小的数字。假如m是数值上限，x是找到的最小的数，则m/x是基数的一个估计。例如，我们扫描一个包含0到1之间数字组成的数据集，其中最小的数是0.01，则一个比较合理的推断是数据集中大约有100个不同的元素，否则我们应该预期能找到一个更小的数。注意这个估计值和重复次数无关：就如最小值重复多少次都不改变最小值的数值
# 优势
* 基数估计算法使用很少的资源给出数据集基数的一个良好估计
* 这个方法和数据本身的特征无关，而且可以高效的进行分布式并行计算
# 应用场景
* 应用场景
    * 流量监控（多少不同IP访问过一个服务器）
    * 数据库查询优化（例如我们是否需要排序和合并，或者是否需要构建哈希表）